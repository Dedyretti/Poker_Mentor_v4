from aiogram import Router, F
from aiogram.types import Message, CallbackQuery
from aiogram.filters import Command

from app.bot.keyboards import get_learning_keyboard, get_back_button

router = Router()

@router.message(Command("learn"))
@router.message(F.text == "üìö –û–±—É—á–µ–Ω–∏–µ")
async def cmd_learning(message: Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–±—É—á–µ–Ω–∏—è"""
    learning_text = """
üìö <b>–û–±—É—á–µ–Ω–∏–µ –ø–æ–∫–µ—Ä—É</b>

–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:

üìñ <b>–û—Å–Ω–æ–≤—ã –ø–æ–∫–µ—Ä–∞</b> - –ø—Ä–∞–≤–∏–ª–∞ –∏ –±–∞–∑–æ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è
üéØ <b>–°—Ç—Ä–∞—Ç–µ–≥–∏–∏</b> - —Ç–∞–∫—Ç–∏–∫–∏ –∏–≥—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π  
üí∞ <b>–ë–∞–Ω–∫—Ä–æ–ª–ª –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç</b> - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–Ω—å–≥–∞–º–∏
üß† <b>–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è</b> - –º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –∏–≥—Ä—ã
üìä <b>–ê–Ω–∞–ª–∏–∑ —Ä—É–∫</b> - —Ä–∞–∑–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
    """
    
    await message.answer(
        learning_text,
        reply_markup=get_learning_keyboard()
    )

@router.callback_query(F.data == "learn_basics")
async def learn_basics(callback: CallbackQuery):
    """–û—Å–Ω–æ–≤—ã –ø–æ–∫–µ—Ä–∞"""
    basics_text = """
üìñ <b>–û—Å–Ω–æ–≤—ã –ø–æ–∫–µ—Ä–∞</b>

üéØ <b>–ü—Ä–∞–≤–∏–ª–∞ –¢–µ—Ö–∞—Å—Å–∫–æ–≥–æ –•–æ–ª–¥–µ–º–∞:</b>
‚Ä¢ –ö–∞–∂–¥–æ–º—É –∏–≥—Ä–æ–∫—É —Å–¥–∞–µ—Ç—Å—è 2 –∫–∞—Ä—Ç—ã
‚Ä¢ –í—ã–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è 5 –æ–±—â–∏—Ö –∫–∞—Ä—Ç
‚Ä¢ –¶–µ–ª—å - —Å–æ–±—Ä–∞—Ç—å –ª—É—á—à—É—é –∫–æ–º–±–∏–Ω–∞—Ü–∏—é

üÉè <b>–ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ (–æ—Ç —Å–∏–ª—å–Ω–æ–π –∫ —Å–ª–∞–±–æ–π):</b>
1. –§–ª–µ—à-—Ä–æ—è–ª—å
2. –°—Ç—Ä–∏—Ç-—Ñ–ª–µ—à  
3. –ö–∞—Ä–µ
4. –§—É–ª–ª-—Ö–∞—É—Å
5. –§–ª–µ—à
6. –°—Ç—Ä–∏—Ç
7. –¢—Ä–æ–π–∫–∞
8. –î–≤–µ –ø–∞—Ä—ã
9. –ü–∞—Ä–∞
10. –°—Ç–∞—Ä—à–∞—è –∫–∞—Ä—Ç–∞

üìö <b>–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è:</b>
‚Ä¢ –ë–ª–∞–π–Ω–¥—ã - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞–≤–∫–∏
‚Ä¢ –ü–æ–∑–∏—Ü–∏—è - –ø–æ—Ä—è–¥–æ–∫ —Ö–æ–¥–∞
‚Ä¢ –ë–∞–Ω–∫ - –æ–±—â–∏–µ –¥–µ–Ω—å–≥–∏ –Ω–∞ —Å—Ç–æ–ª–µ
    """
    
    await callback.message.edit_text(
        basics_text,
        reply_markup=get_back_button()
    )
    await callback.answer()

@router.callback_query(F.data == "learn_strategies")
async def learn_strategies(callback: CallbackQuery):
    """–°—Ç—Ä–∞—Ç–µ–≥–∏–∏"""
    strategies_text = """
üéØ <b>–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ–∫–µ—Ä–∞</b>

üí∞ <b>–ü—Ä–µ—Ñ–ª–æ–ø —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:</b>
‚Ä¢ –ò–≥—Ä–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ —Å–∏–ª—å–Ω—ã–µ —Ä—É–∫–∏ –≤ —Ä–∞–Ω–Ω–∏—Ö –ø–æ–∑–∏—Ü–∏—è—Ö
‚Ä¢ –†–∞—Å—à–∏—Ä—è–π—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω –≤ –ø–æ–∑–¥–Ω–∏—Ö –ø–æ–∑–∏—Ü–∏—è—Ö
‚Ä¢ –£—á–∏—Ç—ã–≤–∞–π—Ç–µ –¥–µ–π—Å—Ç–≤–∏—è –∏–≥—Ä–æ–∫–æ–≤ –ø–µ—Ä–µ–¥ –≤–∞–º–∏

üìä <b>–ü–æ—Å—Ç—Ñ–ª–æ–ø —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:</b>
‚Ä¢ –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –∞–≥—Ä–µ—Å—Å–∏—é —Å —Å–∏–ª—å–Ω—ã–º–∏ —Ä—É–∫–∞–º–∏
‚Ä¢ –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã —Å –¥—Ä–æ-—Ä—É–∫–∞–º–∏
‚Ä¢ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç—É—Ä—É –±–æ—Ä–¥–∞

üé≠ <b>–ü–æ–∑–∏—Ü–∏–æ–Ω–Ω–∞—è –∏–≥—Ä–∞:</b>
‚Ä¢ BTN - —Å–∞–º–∞—è —Å–∏–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ
‚Ä¢ –°—Ç–µ–ª—ã–≤–∞–π—Ç–µ –±–ª–∞–π–Ω–¥—ã –≤ –ø–æ–∑–¥–Ω–∏—Ö –ø–æ–∑–∏—Ü–∏—è—Ö
    """
    
    await callback.message.edit_text(
        strategies_text,
        reply_markup=get_back_button()
    )
    await callback.answer()