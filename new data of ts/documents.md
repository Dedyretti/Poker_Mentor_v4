# Документация проекта: Poker Mentor



## 1. Введение

Данный документ представляет собой исчерпывающую техническую и бизнес-документацию для проекта **"Poker Mentor"**. Проект представляет собой инновационного Telegram-бота, разработанного для обучения пользователей игре в покер с использованием продвинутого искусственного интеллекта (ИИ). Poker Mentor призван снизить порог входа для новичков и предоставить опытным игрокам мощный инструмент для анализа и оттачивания стратегий.

Этот документ предназначен для всех заинтересованных сторон проекта, включая разработчиков, менеджеров продуктов и потенциальных инвесторов. Он охватывает все аспекты проекта, начиная от высокоуровневых бизнес-целей и заканчивая детальным техническим описанием архитектуры, планом разработки и пользовательскими сценариями.



## 2. Бизнес-требования (Business Requirements)

### 2.1. Проблема

- **Для новичков:** Покер — сложная игра с высоким порогом входа. Новички часто теряют деньги на старте из-за непонимания фундаментальных стратегий, математики и психологии игры. Им не хватает безопасной, интерактивной среды для тренировок без финансовых рисков.

- **Для опытных игроков:** Существующие инструменты для анализа (например, solvers) сложны в использовании и не интерактивны. Игрокам не хватает возможности отрабатывать конкретные игровые ситуации (споты) против оппонентов с разными стилями игры для оттачивания своих навыков.

- **Общая проблема:** Отсутствие доступного, интегрированного в популярный мессенджер (Telegram) инструмента, который объединял бы в себе функцию обучения, анализа и симуляции игры.

### 2.2. Бизнес-цели

| Цель | Описание |
| :--- | :--- |
| **Создание образовательного продукта** | Разработать уникальный AI-помощник, который снижает порог входа в покер и помогает игрокам любого уровня улучшать свою игру. |
| **Формирование сообщества** | Привлечь и удержать аудиторию покеристов внутри Telegram, создав вокруг бота активное сообщество для обучения и обмена опытом. |
| **Заложить основу для монетизации** | Создать продукт с четким ценностным предложением, который в будущем может быть монетизирован через премиум-функции. |
| **Технологический эксперимент** | Реализовать сложную AI-систему для игры в покер, что является интересной и нетривиальной задачей с точки зрения машинного обучения. |

### 2.3. Целевая аудитория

- **Новички:** Люди, которые только начинают играть в покер и хотят изучить основы без риска потери денег.
- **Любители (Enthusiasts):** Игроки с опытом, которые хотят "наточить свои навыки", проанализировать свои раздачи и попрактиковаться в новых стратегиях.
- **Преподаватели покера:** Кто может использовать бота как инструмент для демонстрации стратегий своим ученикам.

### 2.4. Ключевые преимущества и ценность

- **Доступность:** Работает прямо в Telegram, не требует установки отдельного приложения или мощного компьютера.
- **Безрисковая среда:** Пользователи могут совершать ошибки и учиться на них, не теряя реальных денег.
- **Интерактивное обучение:** Вместо чтения статей или просмотра видео — практика в режиме реального времени против адаптивного AI.
- **Глубокая аналитика:** Возможность получить моментальный разбор сыгранной руки от AI, что ускоряет процесс обучения.
- **Гибкость:** Симуляция игры против разных типов оппонентов ("фиш", "нит", "агрессор" и т.д.) для отработки адаптивной стратегии.

### 2.5. Критерии успеха (KPI)

| Метрика | Целевое значение | Описание |
| :--- | :--- | :--- |
| **Количество активных пользователей (DAU/MAU)** | 500 DAU / 2000 MAU | Показывает вовлеченность и полезность продукта. |
| **Количество сыгранных раздач в день** | 5 000+ | Прямой индикатор использования основной функции. |
| **Удержание пользователей (Retention)** | 30% на 7-й день | Показывает, возвращаются ли пользователи к боту после первого использования. |
| **Положительные отзывы в канале/чате** | > 80% позитивных | Качественная оценка удовлетворенности пользователей. |
| **Глубина использования** | > 15% пользователей используют функцию анализа своих рук | Показывает использование продвинутых функций. |

### 2.6. Ограничения и риски

- **Технические риски:** Сложность разработки стабильного и сильного покерного AI.
- **Рыночные риски:** Низкое принятие аудиторией, сильная конкуренция со стороны существующих покер-румов и софта.
- **Юридические риски:** Необходимость следить за законодательством в области азартных игр и AI, акцентируя образовательную, а не gambling-составляющую.
- **Ограничение команды:** Команда из двух человек накладывает ограничения на скорость разработки.



## 3. Пользовательские истории и сценарии (User Stories and Scenarios)

Этот раздел описывает ключевые сценарии взаимодействия пользователя с ботом Poker Mentor, сгруппированные по функциональным блокам.

### 3.1. Онбординг и регистрация

**US-001: Первый запуск бота**
*Как новый пользователь, я хочу легко начать использование бота, чтобы быстро приступить к обучению.*

**Сценарий:**
1. Пользователь запускает бота в Telegram.
2. Бот показывает приветственное сообщение с описанием возможностей.
3. Бот предлагает пройти быструю регистрацию, и пользователь вводит `/start`.
4. Система создает профиль пользователя на основе данных Telegram.
5. Бот предлагает выбрать уровень навыков (новичок, любитель, продвинутый).
6. Пользователь выбирает свой уровень, и бот показывает главное меню.

### 3.2. Обучение и практика

**US-003: Быстрый старт игры**
*Как пользователь, я хочу быстро начать игровую сессию, чтобы сразу приступить к практике.*

**Сценарий:**
1. Пользователь в главном меню выбирает "Быстрая игра".
2. Система автоматически выбирает параметры по умолчанию (Cash, блайнды 1/2, сбалансированный AI).
3. Бот создает игровую сессию, и начинается раздача.

**US-004: Настройка тренировочной сессии**
*Как продвинутый пользователь, я хочу настроить параметры тренировки, чтобы отработать конкретные ситуации.*

**Сценарий:**
1. Пользователь выбирает "Настроить игру".
2. Бот предлагает выбрать тип игры, размер стека, уровень и стиль AI.
3. Пользователь настраивает параметры, и начинается сессия.

### 3.3. Анализ и обучение

**US-006: Анализ завершенной раздачи**
*Как обучающийся игрок, я хочу получить детальный разбор сыгранной руки, чтобы понять свои ошибки.*

**Сценарий:**
1. После завершения раздачи бот предлагает "Проанализировать руку".
2. Пользователь соглашается.
3. Бот показывает ход раздачи, EV-анализ ключевых решений, альтернативные линии и оценку игры.

**US-007: Анализ сторонней раздачи**
*Как пользователь, я хочу проанализировать руку из другой игры, чтобы разобрать сложные споты.*

**Сценарий:**
1. Пользователь выбирает "Анализ руки" и вводит детали раздачи.
2. Система анализирует введенные данные.
3. Бот предоставляет детальный отчет с рекомендациями.

### 3.4. Статистика и прогресс

**US-012: Просмотр статистики прогресса**
*Как пользователь, я хочу видеть свою статистику и прогресс, чтобы оценить улучшение навыков.*

**Сценарий:**
1. Пользователь выбирает "Моя статистика".
2. Бот показывает дашборд с общим количеством рук, винрейтом, графиком прогресса и анализом сильных/слабых сторон.



## 4. Архитектура и системная аналитика (Architecture and System Analytics)

### 4.1. Общая архитектурная схема

Архитектура проекта "Poker Mentor" является трехкомпонентной, что обеспечивает гибкость, масштабируемость и разделение логики.

```
┌─────────────────┐    ┌───────────────────┐    ┌──────────────────┐
│   Telegram      │    │   Backend         │    │   AI/ML          │
│   Client        │◄──►│   Application     │◄──►│   Engine         │
│                 │    │                   │    │                  │
└─────────────────┘    └───────────────────┘    └──────────────────┘
         ▲                    │                         │
         │                    ▼                         ▼
         └───────────┌───────────────────┐    ┌──────────────────┐
                     │   Data Layer      │    │   External       │
                     │                   │    │   Services       │
                     └───────────────────┘    └──────────────────┘
```

- **Telegram Client:** Пользовательский интерфейс в мессенджере Telegram.
- **Backend Application:** Основная логика приложения, управление игровыми сессиями, пользователями и данными.
- **AI/ML Engine:** Модуль, отвечающий за принятие решений искусственным интеллектом, анализ раздач и предоставление рекомендаций.
- **Data Layer:** Слой хранения данных, включающий базу данных и кэш.

### 4.2. Технологический стек

| Компонент | Технология |
| :--- | :--- |
| **Backend** | Python 3.11+, FastAPI, python-telegram-bot |
| **База данных** | PostgreSQL (основные данные), Redis (кэш, сессии) |
| **AI/ML** | PyTorch/TensorFlow, pandas, numpy, pokerlib |
| **Инфраструктура** | Docker, Docker Compose, VPS/Cloud (DigitalOcean, AWS) |
| **Мониторинг** | Prometheus, Grafana, ELK Stack |

### 4.3. Модели данных

Ключевые сущности в системе:

- **User:** Хранит информацию о пользователе, его настройках и уровне навыков.
- **GameSession:** Представляет игровую сессию, включая тип игры, ставки и статус.
- **HandHistory:** Записывает полный ход каждой раздачи, включая действия игроков и результат.
- **AIProfile:** Определяет характеристики и стиль игры AI-оппонентов.

```python
# Пример модели пользователя
class User:
    id: UUID
    telegram_id: int
    username: str
    skill_level: str # (Beginner, Intermediate, Advanced)
    preferences: dict
```

### 4.4. Масштабируемость и производительность

- **Время отклика:** Менее 2 секунд для решений AI.
- **Одновременные пользователи:** Поддержка от 100+ пользователей на старте.
- **Стратегия масштабирования:** Горизонтальное масштабирование AI-сервисов, шардирование базы данных и асинхронная обработка тяжелых вычислений.



## 5. План разработки (Development Plan)

План разработки разделен на четыре основные фазы, каждая из которых имеет свои цели, задачи и сроки. Общая продолжительность разработки MVP составляет 14 недель.

### Фаза 1: Фундамент (Недели 1-4)

* **Цель:** Настройка базовой инфраструктуры и системы управления пользователями.
* **Ключевые задачи:**
    - Настройка репозитория, CI/CD и Docker-окружения.
    - Проектирование и реализация схемы базы данных (модели User, GameSession).
    - Реализация системы аутентификации через Telegram.
* **Результат:** Готовое dev-окружение, базовый бот, отвечающий на команду `/start`, и работающая система управления пользователями.

### Фаза 2: Игровое ядро (Недели 5-8)

* **Цель:** Реализация основной логики игры в покер и базовых AI-оппонентов.
* **Ключевые задачи:**
    - Создание движка для раздачи карт, логики торговых раундов и определения победителя.
    - Интеграция AI в игровой процесс.
    - Реализация двух базовых типов AI: **Fish** (пассивный) и **Nit** (сверxтайтовый).
* **Результат:** Полноценно работающий покерный движок, позволяющий сыграть полную раздачу против двух типов AI.

### Фаза 3: Продвинутый AI и аналитика (Недели 9-12)

* **Цель:** Разработка более сложных AI-противников и системы анализа сыгранных рук.
* **Ключевые задачи:**
    - Реализация продвинутых типов AI: **TAG** (тайтово-агрессивный) и **LAG** (лузово-агрессивный).
    - Создание модуля для анализа раздач, включая расчет EV и эквити.
    - Генерация рекомендаций и оценок по итогам раздачи.
* **Результат:** Четыре типа AI-оппонентов с разными стилями игры и функционирующая система детального анализа рук.

### Фаза 4: Полировка и запуск (Недели 13-14)

* **Цель:** Улучшение пользовательского интерфейса, тестирование и развертывание проекта.
* **Ключевые задачи:**
    - Разработка интерактивных клавиатур и удобной навигации в боте.
    - Проведение юнит-тестирования, интеграционного и нагрузочного тестирования.
    - Развертывание приложения на production-сервере.
* **Результат:** Стабильный, протестированный и готовый к использованию MVP-продукт.

### Сводная таблица трудозатрат

| Фаза | Недели | Часы | Основные результаты |
| :--- | :--- | :--- | :--- |
| **Фундамент** | 1-4 | 100 ч | Базовая инфраструктура, система пользователей |
| **Игровое ядро** | 5-8 | 150 ч | Рабочий покерный движок, 2 типа AI |
| **AI и аналитика** | 9-12 | 140 ч | 4 типа AI, система анализа рук |
| **Полировка** | 13-14 | 90 ч | UI/UX, тестирование, деплой |
| **Итого** | **14** | **480 ч** | **Готовый MVP** |



## 6. Риски и их снижение (Risks and Mitigation)

Управление рисками является ключевым аспектом успешной реализации проекта. Ниже представлена таблица с основными техническими и командными рисками, а также стратегиями по их снижению.

### 6.1. Технические риски

| Риск | Вероятность | Влияние | Меры по снижению (Mitigation) |
| :--- | :--- | :--- | :--- |
| **Сложность разработки AI** | Высокая | Высокое | Начать с rule-based подходов, постепенно усложняя и добавляя ML-модели. Это позволит получить работающий прототип на ранних стадиях. |
| **Низкая производительность** | Средняя | Среднее | Изначально заложить в архитектуру кэширование (Redis) для часто запрашиваемых данных и асинхронную обработку для тяжелых вычислений (анализ рук). |
| **Проблемы с масштабируемостью** | Низкая | Высокое | С самого начала проектировать систему с учетом микросервисной архитектуры, что позволит горизонтально масштабировать отдельные компоненты (например, AI-сервисы) по мере роста нагрузки. |

### 6.2. Командные риски

| Риск | Вероятность | Влияние | Меры по снижению (Mitigation) |
| :--- | :--- | :--- | :--- |
| **Переоценка сроков** | Высокая | Среднее | Внедрение гибкого планирования (Agile-подход) с регулярными демонстрациями результатов для своевременной корректировки планов. |
| **Накопление технического долга** | Средняя | Среднее | Введение обязательного Code Review для всех изменений и выделение времени в спринтах на рефакторинг и устранение технического долга. |



## 7. Дорожная карта и будущее развитие (Roadmap and Future Development)

Запуск MVP является лишь первым шагом в развитии проекта "Poker Mentor". Дальнейшая работа будет сосредоточена на расширении функциональности, улучшении пользовательского опыта и монетизации продукта.

### Phase 2 (Месяцы 4-6)

*   **Турнирная система:** Внедрение многостоловых турниров (MTT) и Sit & Go (SNG) для симуляции реального турнирного опыта.
*   **Рейтинги и лидерборды:** Создание соревновательного элемента путем введения системы рейтингов и публичных лидербордов.
*   **Социальные функции:** Возможность делиться результатами, приглашать друзей и создавать приватные игровые столы.
*   **Продвинутая аналитика:** Расширение модуля анализа с добавлением графиков, анализа диапазонов и отчетов по сессиям.

### Phase 3 (Месяцы 7-9)

*   **Монетизация:** Введение премиум-подписки, которая может включать доступ к продвинутым AI-оппонентам, неограниченному анализу рук и персонализированным планам обучения.
*   **Мобильное приложение:** Разработка нативного мобильного приложения для iOS и Android для более удобного игрового опыта.
*   **Интеграции с покер-румами:** Изучение возможностей для партнерства и интеграции с популярными онлайн-покер-румами (например, для импорта истории рук).
*   **Комьюнити-фичи:** Создание форума или чата внутри сообщества для обсуждения стратегий и обмена опытом.

## 8. Заключение

Проект "Poker Mentor" обладает значительным потенциалом для того, чтобы стать ведущим инструментом для обучения покеру в формате Telegram-бота. Сочетание интерактивной практики, глубокого анализа на базе AI и доступности через популярный мессенджер создает уникальное ценностное предложение для широкой аудитории игроков. Успешная реализация MVP в соответствии с изложенным планом заложит прочный фундамент для дальнейшего роста и развития проекта.

